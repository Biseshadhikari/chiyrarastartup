<!-- register.html -->
{% extends 'base.html' %}
{% block content %}
<div class="container mx-auto mt-8">
    <div class="bg-gray-800  p-8 rounded-lg shadow-md md:max-w-md mx-auto mb-20">

        {% if messages %}
        <div id="messages-container" class="p-4 text-center">
          {% for msg in messages %}
            <div class="bg-red-500 text-white p-2 rounded-md mb-4">
              <span>{{ msg.message }}</span>
              <button onclick="closeMessage(this)" class="ml-2 text-white">x</button>
            </div>
          {% endfor %}
        </div>
      
        <script>
          function closeMessage(button) {
            var messageContainer = button.parentElement;
            messageContainer.style.display = 'none';
          }
      
          // Automatically hide messages after 3 seconds
          setTimeout(function () {
            var messagesContainer = document.getElementById('messages-container');
            if (messagesContainer) {
              messagesContainer.style.display = 'none';
            }
          }, 5000);
        </script>
      {% endif %}


        <h2 class="text-2xl font-semibold mb-6">Register</h2>

        <form  method="POST" novalidate class="px-3">
            {%csrf_token%}

            <div class="mb-4">
                <label for="email" class="block text-sm font-medium">Email</label>
                <input type="email" value ="{{request.POST.email}}" id="email" name="email" class="w-full px-4 py-2 mt-2 rounded-md bg-gray-700 focus:outline-none focus:ring focus:border-blue-300" required>
            </div>

            <div class="mb-4">
                <label for="username"  class="block text-sm font-medium">Username</label>
                <input type="text" value ="{{request.POST.username}}" id="username" name="username" class="w-full px-4 py-2 mt-2 rounded-md bg-gray-700 focus:outline-none focus:ring focus:border-blue-300" required>
            </div>

            <div class="mb-4">
                <label for="password" class="block text-sm font-medium">Password</label>
                <input type="password" id="password" name="password" class="w-full px-4 py-2 mt-2 rounded-md bg-gray-700 focus:outline-none focus:ring focus:border-blue-300" required>
            </div>

            <div class="mb-4">
                <label for="confirm-password" class="block text-sm font-medium">Confirm Password</label>
                <input type="password" id="confirm-password" name="confirm_password" class="w-full px-4 py-2 mt-2 rounded-md bg-gray-700 focus:outline-none focus:ring focus:border-blue-300" required>
            </div>

            <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring focus:border-blue-300">Register</button>

        </form>

        <p class="mt-4 text-gray-300 text-center">Already have an account? <a href="#" class="text-blue-500">Login</a></p>

    </div>
</div>
{% endblock content %}
